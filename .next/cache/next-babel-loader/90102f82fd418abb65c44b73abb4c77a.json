{"ast":null,"code":"var _jsxFileName = \"/Users/fangyongbin/Projects/ruby-web/pages/_app.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport App from 'next/app';\nimport Router from 'next/router';\nimport '../styles/main.scss';\n\nclass MyApp extends App {\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    if (true) {\n      global.navigator = {};\n      global.navigator.languages = {};\n      global.location = {};\n    }\n\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {};\n    return {\n      pageProps\n    };\n  }\n\n  componentDidMount() {\n    const UA = navigator.userAgent.toLowerCase();\n    const ieV = UA.indexOf('msie') !== -1 ? parseInt(UA.split('msie')[1], 10) : -1;\n\n    if (ieV !== -1 && ieV < 10) {\n      window.location.href = 'https://support.dmeng.net/upgrade-your-browser.html';\n    }\n\n    if (global.location.pathname.search('/my') > -1) {\n      if (!localStorage.getItem('Token')) {\n        Router.push('/');\n      }\n    }\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps,\n      err,\n      store\n    } = this.props;\n\n    const modifiedPageProps = _objectSpread(_objectSpread({}, pageProps), {}, {\n      err\n    });\n\n    return __jsx(Component, _extends({}, modifiedPageProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }\n    }));\n  }\n\n}\n\nexport default MyApp;","map":{"version":3,"sources":["/Users/fangyongbin/Projects/ruby-web/pages/_app.js"],"names":["React","App","Router","MyApp","getInitialProps","Component","ctx","global","navigator","languages","location","pageProps","componentDidMount","UA","userAgent","toLowerCase","ieV","indexOf","parseInt","split","window","href","pathname","search","localStorage","getItem","push","render","err","store","props","modifiedPageProps"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAO,qBAAP;;AAEA,MAAMC,KAAN,SAAoBF,GAApB,CAAwB;AACtB,eAAaG,eAAb,CAA6B;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,GAA7B,EAAiD;AAC/C,cAAmC;AACjCC,MAAAA,MAAM,CAACC,SAAP,GAAmB,EAAnB;AACAD,MAAAA,MAAM,CAACC,SAAP,CAAiBC,SAAjB,GAA6B,EAA7B;AACAF,MAAAA,MAAM,CAACG,QAAP,GAAkB,EAAlB;AACD;;AACD,UAAMC,SAAS,GAAGN,SAAS,CAACD,eAAV,GAA4B,MAAMC,SAAS,CAACD,eAAV,CAA0BE,GAA1B,CAAlC,GAAmE,EAArF;AACA,WAAO;AAAEK,MAAAA;AAAF,KAAP;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,EAAE,GAAGL,SAAS,CAACM,SAAV,CAAoBC,WAApB,EAAX;AACA,UAAMC,GAAG,GAAGH,EAAE,CAACI,OAAH,CAAW,MAAX,MAAuB,CAAC,CAAxB,GAA4BC,QAAQ,CAACL,EAAE,CAACM,KAAH,CAAS,MAAT,EAAiB,CAAjB,CAAD,EAAsB,EAAtB,CAApC,GAAgE,CAAC,CAA7E;;AACA,QAAIH,GAAG,KAAK,CAAC,CAAT,IAAcA,GAAG,GAAG,EAAxB,EAA4B;AAC1BI,MAAAA,MAAM,CAACV,QAAP,CAAgBW,IAAhB,GAAuB,qDAAvB;AACD;;AACD,QAAId,MAAM,CAACG,QAAP,CAAgBY,QAAhB,CAAyBC,MAAzB,CAAgC,KAAhC,IAAyC,CAAC,CAA9C,EAAiD;AAC/C,UAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,EAAoC;AAClCvB,QAAAA,MAAM,CAACwB,IAAP,CAAY,GAAZ;AACD;AACF;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEtB,MAAAA,SAAF;AAAaM,MAAAA,SAAb;AAAwBiB,MAAAA,GAAxB;AAA6BC,MAAAA;AAA7B,QAAuC,KAAKC,KAAlD;;AACA,UAAMC,iBAAiB,mCAAQpB,SAAR;AAAmBiB,MAAAA;AAAnB,MAAvB;;AACA,WAAO,MAAC,SAAD,eAAeG,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD;;AA5BqB;;AA+BxB,eAAe5B,KAAf","sourcesContent":["import React from 'react'\nimport App from 'next/app'\nimport Router from 'next/router'\nimport '../styles/main.scss'\n\nclass MyApp extends App {\n  static async getInitialProps({ Component, ctx }) {\n    if (typeof window === 'undefined') {\n      global.navigator = {}\n      global.navigator.languages = {}\n      global.location = {}\n    }\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {}\n    return { pageProps }\n  }\n\n  componentDidMount() {\n    const UA = navigator.userAgent.toLowerCase()\n    const ieV = UA.indexOf('msie') !== -1 ? parseInt(UA.split('msie')[1], 10) : -1\n    if (ieV !== -1 && ieV < 10) {\n      window.location.href = 'https://support.dmeng.net/upgrade-your-browser.html'\n    }\n    if (global.location.pathname.search('/my') > -1) {\n      if (!localStorage.getItem('Token')) {\n        Router.push('/')\n      }\n    }\n  }\n\n  render() {\n    const { Component, pageProps, err, store } = this.props\n    const modifiedPageProps = { ...pageProps, err }\n    return <Component {...modifiedPageProps} />\n  }\n}\n\nexport default MyApp\n"]},"metadata":{},"sourceType":"module"}